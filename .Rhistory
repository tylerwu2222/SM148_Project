length(which(str_detect(df[, 2], c('CA', 'Los Angeles')))
length(which(str_detect(df[, 2], c('CA', 'Los Angeles'))))
length(which(str_detect(df[, 2], c('CA'))))
length(which(str_detect(df[, 2], c('CA', 'Los Angeles'))))
length(which(str_detect(df[, 2], 'CA')))
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
#ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
length(which(str_detect(df[, 2], 'CA')))
length(which(ca_ind == 'Yes'))
library(stringr)
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
length(which(str_detect(df[, 2], 'CA')))
length(which(ca_ind == 'Yes'))
df[which(str_detect(df[, 2] == 'Los Angeles')), ]
which(str_detect(df[, 2] == 'Los Angeles'))
which(str_detect(df[, 2], 'Los Angeles'))
df[which(str_detect(df[, 2], 'Los Angeles')), ]
df[which(str_detect(df[, 2], 'Los Angeles')), 2]
library(stringr)
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
length(which(str_detect(df[, 2], 'CA')))
length(which(ca_ind == 'Yes'))
table(df[which(ca_ind == 'Yes')], 2)
table(df[which(ca_ind == 'Yes'), 2])
unique(df[which(ca_ind == 'Yes'), 2])
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
length(which(ca_ind == 'Yes'))
library(stringr)
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], ' CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
length(which(ca_ind == 'Yes'))
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
no_first_space <- which(ca_ind == 'Yes')
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], ' CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
first_space <- which(ca_ind == 'Yes')
no_first_space[!(no_first_space %in% first_space)]
df[no_first_space[!(no_first_space %in% first_space)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA{,}?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], ' CA,?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,? ') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,? ?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,?\s?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,?\\s?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,?\\s+') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA,?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], ' CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA\\(?!\\w+)') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA[^a-z]') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA//[^a-z]') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA//[^a-z]?') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], ' CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA[^M]') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
after_comma
no_first_space
length(no_first_space)
length(after_comma)
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], ' CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA ') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], ' CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CAMPO') | str_detect(df[i, 2], 'AMERICA') | str_detect(df[i, 2], 'CAMBRIDGE')){
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
la_ind <- character(nrow(df))
ca_ind <- character(nrow(df))
for (i in 1:nrow(df)) {
if (str_detect(df[i, 2], 'Los Angeles')) {
la_ind[i] <- 'Yes'
ca_ind[i] <- 'Yes'
} else if (str_detect(df[i, 2], 'CAMPO') | str_detect(df[i, 2], 'AMERICA') | str_detect(df[i, 2], 'CAMBRIDGE')){
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
} else if (str_detect(df[i, 2], 'CA') | str_detect(df[i, 2], 'California')) {
la_ind[i] <- 'No'
ca_ind[i] <- 'Yes'
} else {
la_ind[i] <- 'No'
ca_ind[i] <- 'No'
}
}
after_comma <- which(ca_ind == 'Yes')
df[no_first_space[!(no_first_space %in% after_comma)], 2]
df['CA'] <- ca_ind
df['LA'] <- la_ind
df$CA
df$LA
df[which(df$LA == 'Yes'), 2]
unique(df[which(df$LA == 'Yes'), 2])
write.csv(df, 'merged_data_with_sentiment_and_CA/LA.csv', row.names = FALSE)
write.csv(df, './merged_data_with_sentiment_and_CA/LA.csv', row.names = FALSE)
write.csv(df, './merged_data_with_sentiment_and_CA_LA.csv', row.names = FALSE)
df <- read.csv('./merged_data_with_sentiment_and_CA_LA.csv')
dim(df)
df$CA
df$LA
