data = read_csv("../complete_data/complete_data_sentiment.csv")
library(tidyverse)
data = read_csv("../complete_data/complete_data_sentiment.csv")
head(data)
CA_data <- data %>% filter(CA == "Yes")
LA_data <- data %>% filter(LA == "Yes")
nrow(CA_data)
nrow(LA_data)
fit1 <- lm(polarity_pos~Confirmed, data=CA_data)
fit2 <- lm(polarity_pos~poly(Confirmed,2,raw=TRUE), data=CA_data)
fit3 <- lm(polarity_pos~poly(Confirmed,3,raw=TRUE), data=CA_data)
# fit4 <- lm(Polarity~poly(date,4,raw=TRUE), data=CA_data)
# fit5 <- lm(Polarity~poly(date,5,raw=TRUE), data=CA_data)
#create a scatterplot of x vs. y
plot(CA_data$Confirmed, CA_data$Polarity, pch=19, xlab='x', ylab='y')
#define x-axis values
x_axis <- seq(0, max(CA_data$Confirmed,na.rm=T))
#add curve of each model to plot
lines(x_axis, predict(fit1, data.frame(Confirmed=x_axis)), col='green')
lines(x_axis, predict(fit2, data.frame(Confirmed=x_axis)), col='red')
lines(x_axis, predict(fit3, data.frame(Confirmed=x_axis)), col='purple')
# lines(x_axis, predict(fit4, data.frame(x=x_axis)), col='blue')
# lines(x_axis, predict(fit5, data.frame(x=x_axis)), col='orange')
# fit1 <- lm(polarity_pos~Confirmed, data=CA_data)
# fit2 <- lm(polarity_pos~poly(Confirmed,2,raw=TRUE), data=CA_data)
# fit3 <- lm(polarity_pos~poly(Confirmed,3,raw=TRUE), data=CA_data)
# fit4 <- lm(Polarity~poly(date,4,raw=TRUE), data=CA_data)
# fit5 <- lm(Polarity~poly(date,5,raw=TRUE), data=CA_data)
#create a scatterplot of x vs. y
plot(CA_data$Confirmed, CA_data$polarity_pos, pch=19, xlab='x', ylab='y')
plot(CA_data$Confirmed, CA_data$polarity_neg, pch=19, xlab='x', ylab='y')
#define x-axis values
# x_axis <- seq(0, max(CA_data$Confirmed,na.rm=T))
#add curve of each model to plot
# lines(x_axis, predict(fit1, data.frame(Confirmed=x_axis)), col='green')
# lines(x_axis, predict(fit2, data.frame(Confirmed=x_axis)), col='red')
# lines(x_axis, predict(fit3, data.frame(Confirmed=x_axis)), col='purple')
# lines(x_axis, predict(fit4, data.frame(x=x_axis)), col='blue')
# lines(x_axis, predict(fit5, data.frame(x=x_axis)), col='orange')
# fit1 <- lm(polarity_pos~Confirmed, data=CA_data)
# fit2 <- lm(polarity_pos~poly(Confirmed,2,raw=TRUE), data=CA_data)
# fit3 <- lm(polarity_pos~poly(Confirmed,3,raw=TRUE), data=CA_data)
# fit4 <- lm(Polarity~poly(date,4,raw=TRUE), data=CA_data)
# fit5 <- lm(Polarity~poly(date,5,raw=TRUE), data=CA_data)
#create a scatterplot of x vs. y
mean(CA_data$polarity_pos)
mean(CA_data$polarity_neg)
mean(CA_data$polarity_classif)
plot(CA_data$Confirmed, CA_data$polarity_pos, pch=19, xlab='x', ylab='y')
plot(CA_data$Confirmed, CA_data$polarity_neg, pch=19, xlab='x', ylab='y')
#define x-axis values
# x_axis <- seq(0, max(CA_data$Confirmed,na.rm=T))
#add curve of each model to plot
# lines(x_axis, predict(fit1, data.frame(Confirmed=x_axis)), col='green')
# lines(x_axis, predict(fit2, data.frame(Confirmed=x_axis)), col='red')
# lines(x_axis, predict(fit3, data.frame(Confirmed=x_axis)), col='purple')
# lines(x_axis, predict(fit4, data.frame(x=x_axis)), col='blue')
# lines(x_axis, predict(fit5, data.frame(x=x_axis)), col='orange')
predictors = colnames(CA_data)[c(5,6,15,21,24,25,26,32)] # likes, retweets, mandate, text mentions mask, confirmed cases, deaths, recovered, tested people
CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
predictors = colnames(CA_data)[c(5,6,15,21,24,25,26,32)] # likes, retweets, mandate, text mentions mask, confirmed cases, deaths, recovered, tested people
# CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
CA_lin_sent1 <- lm(formula=polarity_classif~Face_Masks_Required_in_Public,
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
predictors = colnames(CA_data)[c(5,6,15,21,24,25,26,32)] # likes, retweets, mandate, text mentions mask, confirmed cases, deaths, recovered, tested people
# CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
CA_lin_sent1 <- lm(formula=polarity_classif~mentions_mask,
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
predictors[3]
predictors
colnames(CA_data)
predictors = colnames(CA_data)[c(4,5,14,16,20,23,24,25,32)]
predictors
predictors = colnames(CA_data)[c(5,6,15,21,24,25,26,32)] # likes, retweets, mandate, text mentions mask, confirmed cases, deaths, recovered, tested people
# CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
CA_lin_sent1 <- lm(formula=polarity_classif~mentions_mask,
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
predictors = colnames(CA_data)[c(5,6,15,21,24,25,26,32)] # likes, retweets, mandate, text mentions mask, confirmed cases, deaths, recovered, tested people
# CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
CA_lin_sent1 <- lm(formula=polarity_pos~mentions_mask,
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
predictors = colnames(CA_data)[c(5,6,15,21,24,25,26,32)] # likes, retweets, mandate, text mentions mask, confirmed cases, deaths, recovered, tested people
# CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
CA_lin_sent1 <- lm(formula=polarity_neg~mentions_mask,
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
# CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
CA_lin_sent1 <- lm(formula=polarity_~predictors[3],
data=CA_data,
family="gaussian")
# CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
CA_lin_sent1 <- lm(formula=polarity_classif~predictors[3],
data=CA_data,
family="gaussian")
CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
predictors = colnames(CA_data)[c(4,5,14,16,20,23,24,25,32)]
predictors
CA_lin_sent1 <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
CA_lin_sent1 <- lm(formula=as.formula(paste("Polarity",predictors[3],sep="~")),
data=CA_data,
family="gaussian")
CA_lin_sent1a <- lm(formula=as.formula(paste("polarity_classif",predictors[3],sep="~")),
data=CA_data,
family="gaussian")
summary(CA_lin_sent1)
summary(CA_lin_sent1a)
CA_lin_sent2 <- lm(formula=as.formula(paste("Polarity",paste(predictors[c(3,5)],
collapse="+"),sep="~")),
data = CA_data,
family = "gaussian")
CA_lin_sent2a <- lm(formula=as.formula(paste("polarity_classif",paste(predictors[c(3,5)],
collapse="+"),sep="~")),
data = CA_data,
family = "gaussian")
summary(CA_lin_sent2)
summary(CA_lin_sent2a)
CA_lin_sent3 <- lm(formula=as.formula(paste("Polarity",paste(predictors[c(6:9)],
collapse="+"),sep="~")),
data = CA_data,
family = "gaussian")
CA_lin_sent3a <- lm(formula=as.formula(paste("polarity_classif",paste(predictors[c(6:9)],
collapse="+"),sep="~")),
data = CA_data,
family = "gaussian")
summary(CA_lin_sent3)
summary(CA_lin_sent3a)
# all
CA_lin_sent4 <- lm(formula=as.formula(paste("polarity_classif",paste(predictors[c(3,5,6:9)],
collapse="+"),sep="~")),
data = CA_data,
family = "gaussian")
summary(CA_lin_sent4)
library(tidyverse)
